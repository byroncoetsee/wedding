<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Byron + Jen's wedding</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico" />

    <!-- What you snooping in here for? -->

    <script>
      window.addEventListener("DOMContentLoaded", () => {
        // Check URL parameters first
        const urlParams = new URLSearchParams(window.location.search);
        const urlUserId = urlParams.get("user");

        if (urlUserId) {
          localStorage.setItem("userId", urlUserId);
          // Force reload without URL parameters to avoid infinite loop
          if (window.location.search) {
            window.location.href = window.location.pathname;
          }
        } else {
          const userId = localStorage.getItem("userId");
          if (!userId) {
            const promptDiv = document.getElementById("userIdPrompt");
            promptDiv.style.display = "block";
          }
        }
      });

      function submitUserId() {
        const userId = document.getElementById("userIdInput").value;
        if (userId) {
          localStorage.setItem("userId", userId);
          document.getElementById("userIdPrompt").style.display = "none";
          window.location.reload();
        }
      }
    </script>
    <script type="module" crossorigin src="./assets/index-D35SycmD.js"></script>
    <link rel="stylesheet" crossorigin href="./assets/index-YUH8MbHG.css">
  </head>
  <body>
    <div id="userIdPrompt">
      <h3>Please enter your user ID:</h3>
      <input type="number" id="userIdInput" min="0" max="28" />
      <button onclick="submitUserId()">Submit</button>
    </div>
  </body>
</html>
